# Java虚拟机  
使用git删除某个文件：  
git rm -r --cached .idea  #--cached不会把本地的.idea删除  
git commit -m 'delete .idea dir'  
git push -u origin master  
  
**1. JVM如何判断一个对象已经变成了可回收的垃圾？**  
* 引用计数法：  
* 此种算法会在每一个对象上记录这个对象被引用的次数，只要有任何一个对象引用了次对象，这个对象的计数器就+1，取消对这个对象的引用时，计数器就-1。任何一个时刻，如果该对象的计数器为0，那么这个对象就是可以回收的。  
* 可达性分析法：  
* 可达性分析算法通过一系列成为GCRoots的对象作为起始点，从这些节点上向下搜索，所走过的路径称为引用链，当一个对象没有任何引用链与GCRoots连接时就说明此对象不可用，也就是对象不可达。  
  
**2. JVM运行时数据区分为哪些区，每一个区是干嘛的？**  
* 方法区：被所有的线程共享，方法区包含所有的类信息和静态变量。  
* 堆：被所有的线程共享，存放对象实例以及数组，Java堆是GC的主要区域。  
* 栈：每个线程包含一个栈区，栈中保存一些局部变量。  
* 程序计数器： 是当前线程执行的字节码的行指示器。  
  
**3.JVM新生代、老年代、持久代，都存储哪些东西？**  
* 新生代存放的是新生成的对象。  
* 老年代存放的是一些生命周期较长的对象。  
* 持久代主要存放的是Java类的类信息，与垃圾收集要收集的Java对象关系不大。  
  
**4. 内存溢出和内存泄露？**  
* 内存溢出：程序申请内存时，没有足够的内存。  
* 内存泄露：垃圾对象无法回收。  
  
**5. Java中的栈和堆有什么区别？**  
* JVM中堆和栈属于不同的内存区域，使用目的也不同。栈常用于保存方法帧和局部变量，而对象总是在堆上分配。栈通常比堆小，也不会在多个线程之间共享，而堆被整个JVM的所有线程共享。  
  
**6. 垃圾回收方法？**    
* 标记-清除算法  
* 标记-复制算法  
* 标记-整理算法  
  
**7.JVM的组成？**  
* 类加载器子系统  
* 运行时数据区  
* 执行引擎  
* 本地方法接口  
  
**8. Java引用类型？**  
* 强引用、软引用、弱引用、虚引用。  
  
**9. 简述各个引用？**  
* 强引用：垃圾回收不回收。
* 软引用：如果内存空间足够，垃圾回收器就不会回收它，如果内存空间不足了，就会回收这些对象的内存。  
* 弱引用：一旦发现了只具有弱引用的对象，不管当前内存空间足够与否，都会回收它的内存。  
* 虚引用：如果一个对象仅持有虚引用，那么它就和没有任何引用一样，在任何时候都可能被垃圾回收。  
  
**10. ASM概述**  
* ASM是一个Java字节码操纵框架,它能被用来动态生成类或者增强既有类的功能
* ASM可以直接产生二进制class文件,也可以在类被加载入虚拟机之前动态改变类行为,ASM从类文件中读入信息后,能够改变类行为,分析类信息,甚至能根据要求生成新类.
* 目前许多框架如cglib,Hibernate,Spring都直接或间接地使用ASM操作字节码
  
**看完spring再回来看























